<!doctype html>
<title>Linking to SlickGrid</title>

<!-- SlickGrid -->
<link rel="stylesheet" href="lib/slickgrid/slick.grid.css" type="text/css"/>
<link rel="stylesheet" href="lib/slickgrid/jquery-ui-1.8.16.custom.css" type="text/css"/>
<link rel="stylesheet" href="lib/slickgrid/examples.css" type="text/css"/>
<link rel="stylesheet" href="lib/slickgrid/slick.pager.css" type="text/css"/>
<script src="lib/slickgrid/jquery-1.7.min.js"></script>
<script src="lib/slickgrid/jquery.event.drag-2.0.min.js"></script>
<script src="lib/slickgrid/slick.core.js"></script>
<script src="lib/slickgrid/slick.grid.js"></script>
<script src="lib/slickgrid/slick.pager.js"></script>
<script src="lib/slickgrid/slick.dataview.js"></script>
<script src="lib/underscore.js"></script>
<script src="lib/underscore.math.js"></script>
<!-- End SlickGrid -->

<link rel="stylesheet" type="text/css" href="d3.parcoords.css">
<link rel="stylesheet" type="text/css" href="style.css">
<style>
body, html {
  margin: 0;
  height: 800px;
  width: 1000px;
  overflow: hidden;
  font-size: 12px;
}
#grid, #pager {
  position: fixed;
  width: 100%;
}
#grid {
  bottom: 0;
  height: 300px;
}
#pager {
  bottom: 306px;
  height: 20px;
}
.slick-row:hover {
  font-weight: bold;
  color: #069;
}
</style>
<script src="d3.v2.js"></script>
<script src="d3.parcoords.js"></script>
<script src="lib/divgrid.js"></script>
<div id="example" class="parcoords" style="height:400px;"></div>
<div id="grid"></div>
<div id="pager"></div>
<script id="brushing">
// linear color scale
// interact with this variable from a javascript console
var pc_progressive;

// load csv file and create the chart
d3.csv('sample_data_pc.csv', function(data) {
  // var colorgen = d3.scale.category20();
  var colors = {};
  var default_colors = ["#5AB4DC", "#FFC83C", "#8CBE32", "#C83232"]
  
  _(data).chain()
    .pluck('Art')
    .uniq()
    .each(function(d,i) {
      // colors[d] = colorgen(i);
      colors[d] = default_colors[i];
    });

  var color = function(d) { return colors[d.Art]; };
  console.log(data);
  pc_progressive = d3.parcoords()("#example")
    .data(data)
    .color(color)
    .alpha(0.8)
    .margin({ top: 24, left: 150, bottom: 12, right: 0 })
    .mode("queue")
    .render()
    .brushable()  // enable brushing
    .interactive()  // command line mode
    .reorderable()

  pc_progressive.svg.selectAll("text")
    .style("font", "10px sans-serif");
});
</script>
